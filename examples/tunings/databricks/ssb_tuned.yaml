# Databricks SSB Tuned Configuration
# This configuration enables all Databricks-supported optimizations for Star Schema Benchmark
# Includes Delta Lake features, Z-ordering, auto-optimize, and all constraint types

primary_keys:
  enabled: true
  enforce_uniqueness: true
  nullable: false

foreign_keys:
  enabled: true
  enforce_referential_integrity: true
  on_delete_action: CASCADE
  on_update_action: RESTRICT

unique_constraints:
  enabled: true
  ignore_nulls: false

check_constraints:
  enabled: true
  enforce_on_insert: true
  enforce_on_update: true

platform_optimizations:
  z_ordering_enabled: true
  z_ordering_columns:
  - lo_orderdate
  - lo_custkey
  - lo_suppkey
  - lo_partkey
  auto_optimize_enabled: true
  auto_compact_enabled: true
  materialized_views_enabled: true

table_tunings:
  lineorder:
    table_name: lineorder
    partitioning:
    - name: lo_orderdate
      type: INTEGER
      order: 1
    clustering:
    - name: lo_orderkey
      type: INTEGER
      order: 1
    - name: lo_custkey
      type: INTEGER
      order: 2
    distribution:
    - name: lo_orderkey
      type: INTEGER
      order: 1

  date:
    table_name: date
    clustering:
    - name: d_datekey
      type: INTEGER
      order: 1
    distribution:
    - name: d_datekey
      type: INTEGER
      order: 1

  customer:
    table_name: customer
    clustering:
    - name: c_custkey
      type: INTEGER
      order: 1
    distribution:
    - name: c_custkey
      type: INTEGER
      order: 1

  supplier:
    table_name: supplier
    clustering:
    - name: s_suppkey
      type: INTEGER
      order: 1
    distribution:
    - name: s_suppkey
      type: INTEGER
      order: 1

  part:
    table_name: part
    clustering:
    - name: p_partkey
      type: INTEGER
      order: 1
    distribution:
    - name: p_partkey
      type: INTEGER
      order: 1

_metadata:
  version: '2.0'
  format: unified_tuning
  database: databricks
  benchmark: ssb
  configuration_type: tuned
  description: "Databricks SSB configuration with Delta Lake optimizations for star schema queries"
  created: '2025-11-01'
  generated_by: benchbox-project
