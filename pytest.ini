# Simplified default pytest configuration focused on fast local runs
[pytest]
minversion = 8.0
testpaths =
    tests
python_files = test_*.py *_test.py
python_classes = Test* *Tests
python_functions = test_* benchmark_*
addopts =
    --strict-markers
    --strict-config
    --tb=short
    -p no:cov
    -ra
    -m "not slow and not stress and not live_integration"
    -n auto
filterwarnings =
    ignore:Benchmarks are automatically disabled because xdist plugin is active:pytest_benchmark.logger.PytestBenchmarkWarning
    ignore:Using `@model_validator` with mode='after' on a classmethod is deprecated:pydantic.warnings.PydanticDeprecatedSince212
markers =
    fast: marks tests as fast (< 1 second execution time)
    medium: marks tests as medium speed (1-10 seconds execution time)
    slow: marks tests as slow (> 10 seconds execution time, deselected by default)
    stress: marks stress tests (deselected by default)
    unit: marks tests as unit tests (isolated component testing)
    integration: marks tests as integration tests (component interaction testing)
    performance: marks tests as performance tests (benchmarking and timing)
    regression: marks tests for regression testing
    monitoring: marks tests for monitoring functionality
    duckdb: marks tests that use DuckDB backend
    sqlite: marks tests that use SQLite backend
    database: marks tests that require database connections
    tpch: marks TPC-H related tests
    tpcds: marks TPC-DS related tests
    tpcdi: marks TPC-DI related tests
    datavault: marks TPC-H Data Vault benchmark tests
    tpchavoc: marks TPC-H AVOC related tests
    nyctaxi: marks NYC Taxi OLAP benchmark tests
    tsbs_devops: marks TSBS DevOps time series benchmark tests
    ssb: marks Star Schema Benchmark tests
    amplab: marks AMPLab Big Data Benchmark tests
    clickbench: marks ClickBench related tests
    h2odb: marks H2O Database benchmark tests
    olap: marks tests for OLAP functionality
    platform_smoke: marks lightweight platform smoke coverage
    advanced_sql: marks tests for advanced SQL features
    generator: marks tests for data generation functionality
    validation: marks tests validating external TPC binaries
    primitives: marks primitive operations tests
    write_primitives: marks write primitives benchmark tests
    transaction_primitives: marks transaction primitives benchmark tests
    merge: marks merge/join operation tests
    window_functions: marks tests for window function support
    data_generation: marks tests for data generation functionality
    query_execution: marks tests for query execution functionality
    c_compatible: marks tests for C tool compatibility
    tpch_c: marks TPC-H C qgen compatibility tests
    qgen: marks tests that use qgen C tool
    reference_comparison: marks tests that compare with reference implementations
    live_integration: marks tests requiring live cloud credentials (skipped by default)
    live_databricks: marks tests requiring live Databricks connection
    live_snowflake: marks tests requiring live Snowflake connection
    live_bigquery: marks tests requiring live BigQuery connection
    live_redshift: marks tests requiring live Redshift connection
    requires_zstd: marks tests that require zstandard library
    e2e: marks end-to-end CLI tests
    e2e_local: marks E2E tests for local platforms (DuckDB, SQLite, DataFusion)
    e2e_cloud: marks E2E tests for cloud platforms (requires credentials or dry-run)
    e2e_dataframe: marks E2E tests for DataFrame platforms (Pandas, Polars, Dask)
    e2e_quick: marks quick E2E tests suitable for CI (< 60 seconds)
required_plugins =
    pytest-xdist>=3.0.0
    pytest-benchmark>=4.0.0
